# NOTE: This Makefile presumes that the following command has been executed:
#             module load iomkl

# TIMING and references to timing.o only required for original timing routines.
TIMING = /gpfs/gibbs/project/cpsc424/shared/utils/timing

# Use for MPI builds (not for serial)
CC = mpicc

CFLAGS = -g -O3 -xHost -fno-alias -std=c99 -I$(TIMING)

task5:	task5.o $(TIMING)/timing.o
	$(CC) -o $@ $(CFLAGS) $^

task6:	task6.o $(TIMING)/timing.o
	$(CC) -o $@ $(CFLAGS) $^

task7:	task7.o $(TIMING)/timing.o
	$(CC) -o $@ $(CFLAGS) $^

task8:	task8.o $(TIMING)/timing.o
	$(CC) -o $@ $(CFLAGS) $^

.c.o:
	$(CC) $(CFLAGS) -c $<

clean:
	rm -f task5 task6 task7 task8 *.o
